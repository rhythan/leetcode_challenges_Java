class Solution {
    public int divide(int dividend, int divisor) {
        if (dividend == Integer.MIN_VALUE && divisor == -1) {
            return Integer.MAX_VALUE;
        }
        
        long num = Math.abs((long)dividend);
        long D = Math.abs((long)divisor);
        boolean negative = (dividend < 0) ^ (divisor < 0);
        int ans = 0;
        
        while (num >= D) {
            int temp = 0;
            while (num >= (D << (temp + 1))) {
                temp++;
            }
            ans = ans + (1 << temp);
            num = num - (D << temp);
        }
        
        return negative ? -ans : ans;
    }
}
