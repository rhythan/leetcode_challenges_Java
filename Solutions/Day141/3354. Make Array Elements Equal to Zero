class Solution {
    public int countValidSelections(int[] nums) {
        int count = 0;
        for (int i = 0; i < nums.length; i++) {
            if (nums[i] == 0) {
                if (valid(nums, i, true))
                    count++;
                if (valid(nums, i, false))
                    count++;
            }
        }
        return count;
    }

    static boolean valid(int[] nums, int cur, boolean direction) {

        int[] arr = nums.clone();

        boolean left = direction;

        while (true) {
            boolean used = false;
            if (left) {
                for (int i = cur - 1; i >= 0; i--) {
                    if (arr[i] > 0) {
                        arr[i]--;
                        used = true;
                        break;
                    }
                }
            } else {
                for (int i = cur + 1; i < arr.length; i++) {
                    if (arr[i] > 0) {
                        arr[i]--;
                        used = true;
                        break;
                    }
                }
            }
            if (!used)
                break;
            left = !left;

        }
        for (int num : arr) {
            if (num > 0)
                return false;
        }
        return true;

    }
}
