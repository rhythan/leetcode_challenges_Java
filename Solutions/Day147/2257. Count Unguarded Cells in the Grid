class Solution {
    public int countUnguarded(int m, int n, int[][] guards, int[][] walls) {
        int[][] cells = new int[m][n];
        for(int i = 0 ; i < guards.length ; i++){
            int r = guards[i][0];
            int c = guards[i][1];
            cells[r][c]=1;
        }
        for(int i = 0 ; i < walls.length ; i++){
            int r = walls[i][0];
            int c = walls[i][1];
            cells[r][c]=-1;
        }
        for(int i = 0 ; i < m ; i++){
            for(int j = 0 ; j < n ; j ++){
                if(cells[i][j]==1){
                    for(int l = j-1 ; l >= 0 ; l --){
                        if(cells[i][l]==-1 || cells[i][l]==1) break;
                        cells[i][l]=2;
                    }
                    for(int r = j+1 ; r < n ; r ++){
                        if(cells[i][r]==-1 || cells[i][r]==1) break;
                        cells[i][r]=2;
                    }
                    for(int s = i+1 ; s  < m  ; s ++){
                        if(cells[s][j]==-1 || cells[s][j]==1) break;
                        cells[s][j]=2;
                    }
                    for(int up = i-1 ; up >= 0  ; up --){
                        if(cells[up][j]==-1 || cells[up][j]==1) break;
                        cells[up][j]=2;
                    }
                }
            }
        }
        int count = 0 ;
        for(int i = 0 ; i < m ; i ++){
            for(int j = 0 ; j < n ; j++){
                if(cells[i][j]==0) count++;
            }
        }
        return count;

    }
}
